{% extends "base.html" %}

{% block title %}Casual Mode{% endblock %}

{% block content %}
    <h2>Casual Mode</h2>
    <p>Relax and have fun with this casual photo booth. Enjoy the lighthearted setup and take your best shot!</p>
    <img src="{{ url_for('video_feed') }}" id="video-feed">
    <button onclick="captureImage()">Capture</button>
    <div id="captured-photo"></div>

    <script>
        // Stop the camera when leaving the casual page
        window.onbeforeunload = function() {
            fetch('/stop_camera'); // This will stop the camera
        }

        function captureImage() {
            let img = document.getElementById("video-feed").src;
            document.getElementById("captured-photo").innerHTML = `<img src="${img}">`;
        }
    </script>
{% endblock %}
